# Cosign Public Keys Secret
# Auto-generated from securityPolicy.signedImages
# Contains all public keys for image signature verification
apiVersion: v1
kind: Secret
metadata:
  name: cosign-keys
  namespace: {{ .Release.Namespace }}
  annotations:
    argocd.argoproj.io/sync-wave: "-2"
type: Opaque
stringData:
{{- range $index, $img := .Values.securityPolicy.signedImages }}
  key-{{ $index }}: |
{{ $img.publicKey | indent 4 }}
{{- end }}
